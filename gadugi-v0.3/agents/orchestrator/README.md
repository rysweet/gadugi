# Orchestrator Agent

The orchestrator is a simple agent that runs other agents in subprocesses and captures their output.

## Purpose

This is the minimal vertical slice for Gadugi v0.3 orchestration. It validates that:
- Agents can be started programmatically
- Agent output can be captured
- The basic subprocess execution pattern works

## Contract

### Inputs
- `agent_name` (string): Name of the agent to run (must match directory name in `agents/`)
- `task_description` (string, optional): Task description to pass to the agent

### Outputs
- `stdout` (string): Agent's standard output
- `stderr` (string): Agent's error output  
- `returncode` (int): Process return code
- `success` (boolean): Whether the agent completed successfully

### Side Effects
- Creates temporary subprocess
- Reads agent definition files from disk
- No permanent state changes

## Usage

### Via Python
```python
from orchestrator.run_agent import run_agent

result = run_agent("test-agent", "Say hello")
print(result["stdout"])
```

### Via Command Line
```bash
python run_agent.py test-agent "Say hello"
```

### Via Claude Agent
```
/agent:orchestrator

Run agent: test-agent
Task: Output a hello message
```

## Dependencies

- Python 3.7+
- `claude` command line tool
- Agent files in `agents/{agent-name}/agent.md` format

## Implementation Notes

- Uses `subprocess` for isolation
- Passes agent file content directly to Claude via stdin
- 60 second timeout per agent
- No parallel execution (runs one agent at a time)
- No event emission yet (will be added in future iterations)

## Limitations

- No state persistence
- No error recovery
- No parallel execution
- No event system integration
- No complex result processing

## Future Enhancements

Based on architect guidance, future versions may add:
- Event emission (agent.started, agent.completed)
- Parallel agent execution
- Result processing and transformation
- State management
- Container-based isolation

## Regeneration

This component can be regenerated by:
1. Reading this specification
2. Implementing the contract (inputs/outputs)
3. Following the Guidelines.md simplicity principles
4. Testing with the test-agent

The core pattern is: read agent file, pass to Claude via subprocess, capture output.